# ğŸš€ GitHub Actions å·¥ä½œæµä½¿ç”¨æŒ‡å—

## ğŸ“‹ å·¥ä½œæµè¯´æ˜

æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª GitHub Actions å·¥ä½œæµæ–‡ä»¶ `.github/workflows/init-issues.yml`ï¼Œç”¨äºæ‰¹é‡åˆ›å»º GitHub Issuesã€‚

### âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… **æ‰‹åŠ¨è§¦å‘**ï¼šé€šè¿‡ GitHub Actions UI æ‰‹åŠ¨è¿è¡Œ
- âœ… **è‡ªåŠ¨è¯»å–**ï¼šè‡ªåŠ¨è¯»å– `docs/issues/` ç›®å½•ä¸‹æ‰€æœ‰ Markdown æ–‡ä»¶
- âœ… **æ™ºèƒ½è§£æ**ï¼š
  - ä»æ–‡ä»¶ç¬¬ä¸€è¡Œæå– Issue æ ‡é¢˜
  - ä½¿ç”¨å®Œæ•´æ–‡ä»¶å†…å®¹ä½œä¸º Issue æè¿°
  - è‡ªåŠ¨æå– Labelsï¼ˆä»æ–‡ä»¶çš„ Metadata éƒ¨åˆ†ï¼‰
- âœ… **é˜²é‡å¤åˆ›å»º**ï¼šå¯é€‰æ‹©æ˜¯å¦è·³è¿‡å·²å­˜åœ¨çš„åŒå Issue
- âœ… **è¯¦ç»†æ—¥å¿—**ï¼šå½©è‰²è¾“å‡ºï¼Œå±•ç¤ºåˆ›å»ºè¿›åº¦å’Œç»Ÿè®¡ä¿¡æ¯

---

## ğŸ¯ å¦‚ä½•æ‰‹åŠ¨è§¦å‘å·¥ä½œæµ

### æ–¹æ³• 1: é€šè¿‡ GitHub Web UIï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1: æ‰“å¼€ Actions é¡µé¢
è®¿é—®ä½ çš„ä»“åº“ Actions é¡µé¢ï¼š
```
https://github.com/litantai/SmartTrack/actions
```

æˆ–è€…åœ¨ä»“åº“é¡µé¢ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªæ çš„ **"Actions"** æ ‡ç­¾ã€‚

#### æ­¥éª¤ 2: é€‰æ‹©å·¥ä½œæµ
åœ¨å·¦ä¾§å·¥ä½œæµåˆ—è¡¨ä¸­ï¼Œæ‰¾åˆ°å¹¶ç‚¹å‡»ï¼š
```
æ‰¹é‡åˆ›å»º GitHub Issues (Batch Create GitHub Issues)
```

#### æ­¥éª¤ 3: è¿è¡Œå·¥ä½œæµ
1. ç‚¹å‡»å³ä¾§çš„ **"Run workflow"** æŒ‰é’®ï¼ˆè“è‰²ä¸‹æ‹‰æŒ‰é’®ï¼‰
2. åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ï¼š
   - **Branch**: é€‰æ‹© `main` æˆ–ä½ å½“å‰çš„åˆ†æ”¯
   - **æ˜¯å¦è·³è¿‡å·²å­˜åœ¨çš„ Issue**: 
     - é€‰æ‹© `true`ï¼ˆæ¨èï¼‰ï¼šä¼šæ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒæ ‡é¢˜çš„ Issueï¼Œå­˜åœ¨åˆ™è·³è¿‡
     - é€‰æ‹© `false`ï¼šå³ä½¿å­˜åœ¨åŒå Issue ä¹Ÿä¼šé‡å¤åˆ›å»º
3. ç‚¹å‡»ç»¿è‰²çš„ **"Run workflow"** æŒ‰é’®ç¡®è®¤è¿è¡Œ

#### æ­¥éª¤ 4: æŸ¥çœ‹æ‰§è¡Œç»“æœ
1. å·¥ä½œæµå¼€å§‹è¿è¡Œåï¼Œä¼šåœ¨åˆ—è¡¨ä¸­æ˜¾ç¤º
2. ç‚¹å‡»è¿è¡Œè®°å½•å¯æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
3. å±•å¼€æ¯ä¸ªæ­¥éª¤æŸ¥çœ‹æ‰§è¡Œç»†èŠ‚
4. æˆåŠŸåä¼šæ˜¾ç¤º âœ… ç»¿è‰²å¯¹å‹¾

---

### æ–¹æ³• 2: é€šè¿‡ GitHub CLI

å¦‚æœä½ å·²å®‰è£… [GitHub CLI](https://cli.github.com/)ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œè§¦å‘ï¼š

```bash
# åŸºæœ¬ç”¨æ³•ï¼ˆè·³è¿‡å·²å­˜åœ¨çš„ Issueï¼‰
gh workflow run "æ‰¹é‡åˆ›å»º GitHub Issues (Batch Create GitHub Issues)" \
  --ref main \
  -f skip_existing=true

# ä¸è·³è¿‡å·²å­˜åœ¨çš„ Issueï¼ˆä¼šé‡å¤åˆ›å»ºï¼‰
gh workflow run "æ‰¹é‡åˆ›å»º GitHub Issues (Batch Create GitHub Issues)" \
  --ref main \
  -f skip_existing=false

# æŸ¥çœ‹å·¥ä½œæµè¿è¡ŒçŠ¶æ€
gh run list --workflow="æ‰¹é‡åˆ›å»º GitHub Issues (Batch Create GitHub Issues)"

# æŸ¥çœ‹æœ€æ–°ä¸€æ¬¡è¿è¡Œçš„æ—¥å¿—
gh run view --log
```

---

### æ–¹æ³• 3: é€šè¿‡ GitHub API

ä½¿ç”¨ `curl` æˆ–å…¶ä»– HTTP å®¢æˆ·ç«¯è§¦å‘ï¼š

```bash
# è®¾ç½®å˜é‡
GITHUB_TOKEN="your_personal_access_token"
REPO_OWNER="litantai"
REPO_NAME="SmartTrack"
WORKFLOW_ID="init-issues.yml"
BRANCH="main"

# è§¦å‘å·¥ä½œæµ
curl -X POST \
  -H "Authorization: token $GITHUB_TOKEN" \
  -H "Accept: application/vnd.github.v3+json" \
  "https://api.github.com/repos/$REPO_OWNER/$REPO_NAME/actions/workflows/$WORKFLOW_ID/dispatches" \
  -d '{
    "ref": "'"$BRANCH"'",
    "inputs": {
      "skip_existing": "true"
    }
  }'
```

---

## ğŸ“Š å·¥ä½œæµæ‰§è¡Œæµç¨‹

```mermaid
graph TD
    A[æ‰‹åŠ¨è§¦å‘å·¥ä½œæµ] --> B[æ£€å‡ºä»£ç ä»“åº“]
    B --> C[è¿›å…¥ docs/issues/ ç›®å½•]
    C --> D[éå†æ‰€æœ‰ .md æ–‡ä»¶]
    D --> E{æ˜¯å¦ä¸º README æˆ– SUMMARY?}
    E -->|æ˜¯| F[è·³è¿‡è¯¥æ–‡ä»¶]
    E -->|å¦| G[æå–æ ‡é¢˜å’Œæ ‡ç­¾]
    G --> H{æ˜¯å¦è·³è¿‡å·²å­˜åœ¨?}
    H -->|æ˜¯| I{æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒæ ‡é¢˜?}
    H -->|å¦| J[åˆ›å»º GitHub Issue]
    I -->|å­˜åœ¨| F
    I -->|ä¸å­˜åœ¨| J
    J --> K{åˆ›å»ºæˆåŠŸ?}
    K -->|æ˜¯| L[âœ… æˆåŠŸè®¡æ•° +1]
    K -->|å¦| M[âŒ å¤±è´¥è®¡æ•° +1]
    F --> N{è¿˜æœ‰æ–‡ä»¶?}
    L --> N
    M --> N
    N -->|æ˜¯| D
    N -->|å¦| O[è¾“å‡ºç»Ÿè®¡æŠ¥å‘Š]
    O --> P[åˆ—å‡ºæ‰€æœ‰ Issues]
    P --> Q[å®Œæˆ]
```

---

## ğŸ“ æ–‡ä»¶æ ¼å¼è¦æ±‚

å·¥ä½œæµä¼šè¯»å– `docs/issues/` ç›®å½•ä¸‹çš„æ‰€æœ‰ `.md` æ–‡ä»¶ï¼ˆè‡ªåŠ¨æ’é™¤ `README.md` å’Œ `SUMMARY.md`ï¼‰ã€‚

### Issue æ–‡ä»¶æ ¼å¼ç¤ºä¾‹

```markdown
# Issue æ ‡é¢˜ä¼šä»è¿™é‡Œæå–

## ğŸ“‹ Issue å…ƒä¿¡æ¯ (Metadata)

- **Issue Number**: #T004
- **Title**: Vehicle æ¨¡å‹å®šä¹‰
- **Labels**: `data-layer`, `priority:P1`, `complexity:medium`
- **Assignee**: å¾…åˆ†é…

## ğŸ“ Issue å†…å®¹

è¿™é‡Œæ˜¯ Issue çš„è¯¦ç»†å†…å®¹...
```

### æ ‡ç­¾æå–è§„åˆ™

å·¥ä½œæµä¼šè‡ªåŠ¨ä»æ–‡ä»¶ä¸­æŸ¥æ‰¾ä»¥ä¸‹æ ¼å¼çš„æ ‡ç­¾ï¼š

```markdown
- **Labels**: `label1`, `label2`, `label3`
```

å¦‚æœæœªæ‰¾åˆ° Labelsï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨é»˜è®¤æ ‡ç­¾ `auto-created`ã€‚

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æƒé™è¦æ±‚

å·¥ä½œæµéœ€è¦ä»¥ä¸‹æƒé™ï¼š
- âœ… `issues: write` - åˆ›å»º Issues
- âœ… `contents: read` - è¯»å–ä»“åº“æ–‡ä»¶

è¿™äº›æƒé™å·²åœ¨å·¥ä½œæµæ–‡ä»¶ä¸­é…ç½®ï¼Œæ— éœ€é¢å¤–è®¾ç½®ã€‚

### 2. é˜²æ­¢é‡å¤åˆ›å»º

- é»˜è®¤æƒ…å†µä¸‹ï¼Œå·¥ä½œæµä¼šæ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒæ ‡é¢˜çš„ Issue
- å¦‚æœå­˜åœ¨ï¼Œä¼šè·³è¿‡åˆ›å»ºå¹¶åœ¨æ—¥å¿—ä¸­æ ‡è®°ä¸º "â­ï¸ è·³è¿‡"
- å¦‚æœéœ€è¦å¼ºåˆ¶é‡æ–°åˆ›å»ºï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶é€‰æ‹© `skip_existing=false`

### 3. æ–‡ä»¶å‘½åè§„èŒƒ

- å»ºè®®ä½¿ç”¨ `ISSUE_XXX_DESCRIPTION.md` æ ¼å¼å‘½åæ–‡ä»¶
- ç¡®ä¿æ–‡ä»¶ç¬¬ä¸€è¡Œæ˜¯æœ‰æ•ˆçš„ Markdown æ ‡é¢˜ï¼ˆä»¥ `#` å¼€å¤´ï¼‰
- æ–‡ä»¶åº”ä½¿ç”¨ UTF-8 ç¼–ç 

### 4. æ ‡ç­¾è‡ªåŠ¨åˆ›å»º

- å¦‚æœå·¥ä½œæµä¸­ä½¿ç”¨çš„æ ‡ç­¾åœ¨ä»“åº“ä¸­ä¸å­˜åœ¨ï¼ŒGitHub ä¼šè‡ªåŠ¨åˆ›å»ºè¯¥æ ‡ç­¾
- å»ºè®®æå‰åœ¨ä»“åº“ä¸­åˆ›å»ºå¸¸ç”¨æ ‡ç­¾ï¼Œä»¥ä¾¿è®¾ç½®é¢œè‰²å’Œæè¿°

---

## ğŸ” æŸ¥çœ‹åˆ›å»ºçš„ Issues

### æ–¹æ³• 1: GitHub Web UI
è®¿é—®ï¼š
```
https://github.com/litantai/SmartTrack/issues
```

### æ–¹æ³• 2: GitHub CLI
```bash
# åˆ—å‡ºæ‰€æœ‰ Issues
gh issue list

# åˆ—å‡ºæœ€è¿‘åˆ›å»ºçš„ 20 ä¸ª Issues
gh issue list --limit 20

# ç­›é€‰ç‰¹å®šæ ‡ç­¾çš„ Issues
gh issue list --label "auto-created"
```

---

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: å·¥ä½œæµæ‰¾ä¸åˆ° Markdown æ–‡ä»¶

**åŸå› **: `docs/issues/` ç›®å½•ä¸å­˜åœ¨æˆ–ä¸ºç©º

**è§£å†³æ–¹æ¡ˆ**: 
```bash
# æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨
ls -la docs/issues/

# ç¡®ä¿è‡³å°‘æœ‰ä¸€ä¸ª .md æ–‡ä»¶ï¼ˆé™¤äº† README.md å’Œ SUMMARY.mdï¼‰
```

### é—®é¢˜ 2: åˆ›å»º Issue å¤±è´¥ï¼ˆæƒé™é”™è¯¯ï¼‰

**åŸå› **: GitHub Token æƒé™ä¸è¶³

**è§£å†³æ–¹æ¡ˆ**: 
1. æ£€æŸ¥ä»“åº“è®¾ç½® â†’ Actions â†’ General â†’ Workflow permissions
2. ç¡®ä¿é€‰æ‹©äº† "Read and write permissions"

### é—®é¢˜ 3: æ ‡ç­¾æå–å¤±è´¥

**åŸå› **: æ–‡ä»¶ä¸­ Labels æ ¼å¼ä¸åŒ¹é…

**è§£å†³æ–¹æ¡ˆ**: 
ç¡®ä¿æ–‡ä»¶ä¸­åŒ…å«ä»¥ä¸‹æ ¼å¼çš„æ ‡ç­¾å®šä¹‰ï¼š
```markdown
- **Labels**: `label1`, `label2`, `label3`
```

### é—®é¢˜ 4: Issue æ ‡é¢˜ä¸ºç©º

**åŸå› **: æ–‡ä»¶ç¬¬ä¸€è¡Œä¸æ˜¯æœ‰æ•ˆçš„ Markdown æ ‡é¢˜

**è§£å†³æ–¹æ¡ˆ**: 
ç¡®ä¿æ–‡ä»¶ç¬¬ä¸€è¡Œæ ¼å¼ä¸ºï¼š
```markdown
# è¿™æ˜¯ Issue æ ‡é¢˜
```

---

## ğŸ“ å·¥ä½œæµé…ç½®æ–‡ä»¶ä½ç½®

```
.github/workflows/init-issues.yml
```

å¦‚éœ€è‡ªå®šä¹‰å·¥ä½œæµè¡Œä¸ºï¼Œå¯ä»¥ç¼–è¾‘æ­¤æ–‡ä»¶ã€‚

---

## ğŸ“ ç›¸å…³èµ„æº

- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [GitHub CLI æ–‡æ¡£](https://cli.github.com/)
- [GitHub Issues API](https://docs.github.com/en/rest/issues)
- [å·¥ä½œæµè¯­æ³•å‚è€ƒ](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions)

---

**æœ€åæ›´æ–°**: 2026-01-27  
**åˆ›å»ºè€…**: GitHub Copilot AI Assistant
